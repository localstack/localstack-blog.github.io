<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=/css/vendor/custom.css><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=/main.b93f21975a8c509862bc461126163a533d1083c67ad9fe8621b9b49c72f22af2f868498b9be3305e5c0243d5b194d4e9df7ec3a49e44fa797de7700c870708a0.css integrity="sha512-uT8hl1qMUJhivEYRJhY6Uz0Qg8Z62f6GIbm0nHLyKvL4aEmLm+MwXlwCQ9WxlNTp337DpJ5E+nl953AMhwcIoA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>How we are making connecting to LocalStack easier - LocalStack</title><meta name=description content="Develop and test your cloud apps offline"><link rel=canonical href=/2024-03-04-making-connecting-to-localstack-easier/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.localstack.cloud/2024-03-04-making-connecting-to-localstack-easier/making-connecting-to-localstack-easier-banner.png"><meta name=twitter:title content="How we are making connecting to LocalStack easier"><meta name=twitter:description content="LocalStack normally runs in a Docker container, meaning that it is isolated from the host system. By default, LocalStack publishes its edge port (usually 4566) to the host. Publishing a port means that a port on the host forwards network communications to the LocalStack container. Requests made to localhost:4566 are then forwarded to the container.
This works well when interacting from the host, for example, using awslocal commands. However, making requests to localhost:4566 does not work when trying to connect to LocalStack from your containers, or LocalStack compute resources such as Lambda functions or ECS containers."><meta name=twitter:site content="@localstack"><meta name=twitter:creator content="@localstack"><meta property="og:title" content="How we are making connecting to LocalStack easier"><meta property="og:description" content="LocalStack normally runs in a Docker container, meaning that it is isolated from the host system. By default, LocalStack publishes its edge port (usually 4566) to the host. Publishing a port means that a port on the host forwards network communications to the LocalStack container. Requests made to localhost:4566 are then forwarded to the container.
This works well when interacting from the host, for example, using awslocal commands. However, making requests to localhost:4566 does not work when trying to connect to LocalStack from your containers, or LocalStack compute resources such as Lambda functions or ECS containers."><meta property="og:type" content="article"><meta property="og:url" content="/2024-03-04-making-connecting-to-localstack-easier/"><meta property="og:image" content="/2024-03-04-making-connecting-to-localstack-easier/making-connecting-to-localstack-easier-banner.png"><meta property="article:published_time" content="2024-03-04T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-04T00:00:00+00:00"><meta property="og:site_name" content="LocalStack"><meta property="article:publisher" content="https://www.facebook.com/"><meta property="article:author" content="https://www.facebook.com/"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/blog.localstack.cloud\/"},{"@type":"ListItem","position":3,"name":"2024 03 04 Making Connecting to Localstack Easier","item":"https:\/\/blog.localstack.cloud\/\/2024-03-04-making-connecting-to-localstack-easier\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#6b7cf5><link rel=manifest href=/site.webmanifest><script>(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-101988473-1','auto'),ga('send','pageview')</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-QRFTZPWGB7"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QRFTZPWGB7')</script><script defer src=https://unpkg.com/@tinybirdco/flock.js data-host=https://api.tinybird.co data-token=p.eyJ1IjogIjAwZDRjYzRjLTg4N2UtNGNmZS05YzY4LTJjNzMyNjE5ODdjMCIsICJpZCI6ICI2YzRhMDViNi1iZjVlLTRkY2QtODNlZS1jMmFjYjg5ZjQ1NzAifQ.EPdBzyAb28wUbtZacobblsMi42IwTd7d2amppDfw-jE></script><script type=text/javascript id=hs-script-loader async defer src=//js-eu1.hs-scripts.com/26596507.js></script><script type=text/javascript src=//js-eu1.hsforms.net/forms/embed/v2.js></script><script>function toggleTag(b){const c='tag-'+b;if(c!=='tag-all'){const a=document.getElementsByClassName('tag-all');for(let b=0;b<a.length;b++){const c=a[b];c.classList.add('d-none')}}const d=document.getElementsByClassName(c);for(let a=0;a<d.length;a++){const b=d[a];b.classList.remove('d-none')}const e=document.getElementsByClassName('filterButton');for(let a=0;a<e.length;a++){const b=e[a];b.classList.remove('bg-purple'),b.classList.remove('btn-primary'),b.classList.add('btn-outline-primary')}const f=b+"FilterButton",a=document.getElementById(f);a.classList.add('bg-purple'),a.classList.add('btn-primary'),a.classList.remove('btn-outline-primary')}</script></head><body class="page single"><header></header><section class="section section-sm bg-gradient-dark"><div class="position-absolute w-100 section pb-7 pt-7 d-none d-md-block"><div class=container><div class="row justify-content-center align-items-center"><div class=col-2><img class=w-100 style=transform:scale(2);opacity:.65 src=/images/heroes/blog.svg></div><div class=col-2></div><div class=col-2></div><div class=col-2><img class=w-100 style=transform:rotate(35deg)scale(1.4);opacity:.9 src=/images/heroes/blog.svg></div><div class=col-2><img class=w-100 style=transform:rotate(-45deg)scaleX(-1)scale(1.5);opacity:.75 src=/images/heroes/blog.svg></div></div></div></div><div class="container pb-5 pt-6 pb-md-7 pt-sm-7"><div class="row justify-content-center align-items-center text-white"><h1 class="text-center m-0 pt-lg-5">How we are making connecting to LocalStack easier</h1></div></div></section><section class="section section-sm mb-6"><div class="container px-lg-8"><div class="row justify-content-center"><div class=col-12><article><div class=blog-header><div class="d-flex align-items-center flex-wrap card-footer-text"><p class=mb-0><img src=/images/common/clock.svg>
11&nbsp;MIN READ&nbsp;&#8212;&nbsp;
posted March 4, 2024 by <a class="stretched-link position-relative">Simon Walker</a> and <a class="stretched-link position-relative">Daniel Fangl</a> and <a class="stretched-link position-relative">Joel Scheuner</a></p><p></div></div><p class=lead>Connecting your applications to LocalStack has not always been easy. In this post, we describe the journey we went through to streamline the LocalStack networking experience.</p><img class="img-simple img-fluid lazyload blur-up" src=/2024-03-04-making-connecting-to-localstack-easier/making-connecting-to-localstack-easier-banner_hu61cbcbeb1e4c8d7647b27a18d6c73d12_886362_20x0_resize_box_2.png data-src=/2024-03-04-making-connecting-to-localstack-easier/making-connecting-to-localstack-easier-banner.png width=3840 height=2160 alt="Banner image for the blog: How we are making connecting to LocalStack easier"><p>LocalStack normally runs in a Docker container, meaning that it is isolated from the host system.
By default, LocalStack <em>publishes</em> its edge port (usually <code>4566</code>) to the host.
Publishing a port means that a port on the host forwards network communications to the LocalStack container.
Requests made to <code>localhost:4566</code> are then forwarded to the container.</p><p>This works well when interacting from the host, for example, using <a href=https://docs.localstack.cloud/user-guide/integrations/aws-cli/#localstack-aws-cli-awslocal><code>awslocal</code></a> commands.
However, making requests to <code>localhost:4566</code> does not work when trying to connect to LocalStack from your containers, or LocalStack compute resources such as Lambda functions or ECS containers.</p><p>Sometimes, users wish to use multiple different methods to connect to LocalStack at the same time.
For example, application code running on the host triggers a Lambda function, which in turn invokes more AWS services.
In this situation, there is not one single hostname that can be reached from a Lambda function (which runs in a separate Docker container) and the host machine.</p><img class="img-simple img-fluid lazyload blur-up" src=/2024-03-04-making-connecting-to-localstack-easier/localstack-lambda-ecs-docker-ec2_hu1aa05d6e33cb03c12bf8ccac7a700e1f_159294_20x0_resize_box_2.png data-src=/2024-03-04-making-connecting-to-localstack-easier/localstack-lambda-ecs-docker-ec2.png width=1920 height=1080 alt="An architecture diagram showing the logos of LocalStack, Lambda, EC2, ECS and Docker"><p>As usual, our community has been very resourceful in trying to solve this problem.
One idea was to connect their application containers to the host network (<code>--network host</code>) or by making requests to <code>host.docker.internal:4566</code> when using Docker Desktop.
In some cases, using the host networking solves the problem, but it causes other problems:</p><ol><li>If SSL is used, then certificate validation must be turned off:<ul><li>LocalStack presents a certificate for a set of registered domains;</li><li>if using host networking (<code>--network host</code>), requests are made to an IP address or <code>localhost</code>, which is not included in the certificate; and</li><li>when using the gateway domain (<code>host.docker.internal</code>), this domain is also not included in the set of certificate domains.</li></ul></li><li>Subdomains created by resources such as S3 buckets or OpenSearch clusters will not resolve to the LocalStack container.</li><li>The host port can only be published once, whereas container ports are separate from each other and multiple containers can bind to the same port.</li></ol><p>We already solved the first two issues by using the domain name <code>localhost.localstack.cloud</code> in our documentation and examples.
This domain name is publicly registered and resolves to the IP address <code>127.0.0.1</code>.
Any (possibly nested) subdomain of this domain name also resolves to <code>127.0.0.1</code>.
This allows us to present a valid TLS certificate when using HTTPS from the host but does not remove the connectivity problem.
You can check that the domain maps to <code>127.0.0.1</code> by running:</p><pre><code class=language-sh>dig @8.8.8.8 localhost.localstack.cloud
</code></pre><p>You will see the following output:</p><pre><code class=language-text>; &lt;&lt;&gt;&gt; DiG 9.10.6 &lt;&lt;&gt;&gt; @8.8.8.8 localhost.localstack.cloud
; (1 server found)
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 54676
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;localhost.localstack.cloud.	IN	A

;; ANSWER SECTION:
localhost.localstack.cloud. 600	IN	A	127.0.0.1

;; Query time: 54 msec
;; SERVER: 8.8.8.8#53(8.8.8.8)
;; WHEN: Fri Sep 08 11:23:20 BST 2023
;; MSG SIZE  rcvd: 71
</code></pre><p>This command queries the Google public nameserver (<code>8.8.8.8</code>) for the <code>localhost.localstack.cloud</code> domain.
In the &ldquo;ANSWER&rdquo; section, an <code>A</code> record resolves our domain to the IP address <code>127.0.0.1</code>.</p><p>Unfortunately, this domain name is not suitable for use in compute environments such as Lambda functions.
When you create a Lambda function, ECS container, or EC2 instance, we create a new Docker container running your application code.
Prior to LocalStack v3.0, the domain name <code>localhost.localstack.cloud</code> did not resolve to the LocalStack container as you may have expected, but the compute environment container itself.</p><p>So how did we go about making connectivity to LocalStack easier?</p><ul><li>Providing helpful advice</li><li>Introducing dynamic name resolution with our DNS server</li><li>Updating and improving our advanced configuration</li><li>Providing tooling to help users debug their network configuration</li></ul><h1 id=providing-helpful-advice>Providing helpful advice</h1><p>We created comprehensive troubleshooting advice in the form of our <a href=https://docs.localstack.cloud/references/network-troubleshooting/>Network troubleshooting guide</a>.
The guide outlines different user setups and describes best practices for LocalStack networking.</p><img class="img-simple img-fluid lazyload blur-up" src=/2024-03-04-making-connecting-to-localstack-easier/docs-screenshot_hu0c1ad80617d94353770cdd9d5f4b67de_454486_20x0_resize_box_2.png data-src=/2024-03-04-making-connecting-to-localstack-easier/docs-screenshot.png width=1092 height=2064 alt="Screenshot of the LocalStack Docs page"><p>With this guide, common networking scenarios are described, with example configuration for achieving connectivity.</p><p>Our main suggestion involved relying on Docker&rsquo;s networking capabilities, and for the user to use Docker networks.
In this mode, the name of the LocalStack container resolves correctly.
Unfortunately, this is not without its limitations.
Mainly subdomains do not resolve to a valid IP address, and LocalStack needed to be configured to return its container name in resource identifiers such as URLs, rather than <code>localhost</code>.
Before this initiative, we supported setting <code>HOSTNAME_EXTERNAL</code> and <code>LOCALSTACK_HOSTNAME</code> to provide this functionality.
The user could set <code>HOSTNAME_EXTERNAL=localhost.localstack.cloud</code> to gain the benefits of subdomain support and TLS certificates, though its use in Lambda functions was still a problem.
Unfortunately, the use of these two configuration variables within LocalStack services was inconsistent, or worse: nonexistent, and there was confusion as to why two variables were needed to support the same functionality.</p><p>There needed to be a more general solution that would reduce the amount of complexity for users, as well as provide seamless connectivity.</p><h1 id=dynamic-name-resolution>Dynamic name resolution</h1><p>We wanted our users to be able to use the same domain name regardless of where their code was running from.
For example: from the host, <code>localhost.localstack.cloud</code> would resolve to <code>127.0.0.1</code>, but inside a separate container (such as a Lambda function, or the user&rsquo;s Docker container) the name would resolve to the IP address of the LocalStack container.</p><p>To implement this feature, we designed a system based on DNS.
We brought our existing DNS server from LocalStack Pro into the LocalStack Community edition, and updated it to to support this new use case:</p><ul><li>Requests made to our DNS server to resolve the name <code>localhost.localstack.cloud</code> will respond with the IP address of the LocalStack container.</li><li>Requests made to resolve names that we don&rsquo;t specifically handle (e.g. <code>example.com</code>) will be forwarded to your system DNS resolver:</li></ul><div class=mermaid>stateDiagram-v2
direction LR
Application --> LocalStack
LocalStack --> Upstream</div><br><p>When receiving a DNS query for <code>localhost.localstack.cloud</code>, the LocalStack DNS resolver determines which subnet is shared between the incoming request&rsquo;s source IP address and the LocalStack container IP address.
If it finds a shared subnet, the IP address of the LocalStack container in that subnet is returned.
Otherwise, <code>127.0.0.1</code> is returned.</p><p>To illustrate how this works, the following diagram shows an application container trying to make a DNS query to the LocalStack DNS server.</p><img class="img-simple img-fluid lazyload blur-up" src=/2024-03-04-making-connecting-to-localstack-easier/dns-subnet-matching_hu706a9841f6c743288832c909c3ef23b6_59747_20x0_resize_box_2.png data-src=/2024-03-04-making-connecting-to-localstack-easier/dns-subnet-matching.png width=1920 height=1080 alt="Architecture showcasing how an application container names a DNS query to LocalStack DNS server "><p>The LocalStack Docker container is part of two docker networks: &ldquo;Network 1&rdquo; and &ldquo;Network 2&rdquo;.
The application container is part of &ldquo;Network 2&rdquo; only, but this network is shared with LocalStack meaning that the query can be made to the container without going via ports published on the host.</p><p>When it makes a DNS query for <code>localhost.localstack.cloud</code>, the LocalStack DNS server iterates through its assigned IP addresses and finds that the <code>172.19.0.0/24</code> subnet is common to both LocalStack and the incoming query&rsquo;s source IP address.
Since this matches, the LocalStack DNS server returns the A record <code>172.19.0.2</code>.</p><p>We are now able to resolve the three issues mentioned above:</p><ol><li>If SSL is used, then certificate validation must be turned off since LocalStack does not present a valid certificate for the domain used (either <code>localhost</code> or <code>host.docker.internal</code>).<ul><li>LocalStack presents a valid certificate for <code>*.localhost.localstack.cloud</code> domains.</li></ul></li><li>Subdomains created by resources such as S3 buckets or OpenSearch clusters will not resolve to the LocalStack container.<ul><li>Subdomains of <code>localhost.localstack.cloud</code> also resolve to the LocalStack container (for example <code>mybucket.s3.us-east-1.localhost.localstack.cloud</code>).</li></ul></li><li>Each host port can only be published once, whereas container ports are separate from each other and multiple containers can publish the same port.<ul><li>Now all inter-container networking can be done over the Docker network, and no ports have to be published to the host at all.</li></ul></li></ol><p><strong>So how can you make use of this new feature?</strong></p><p>AWS services like Lambda or ECS are running in an environment pre-configured to use this feature.</p><p><em>For your containers, there is some configuration required.</em></p><p>Docker allows the configuration of a container DNS resolver.
This is done by overriding the <code>/etc/resolv.conf</code> file inside the container.
When using the Docker CLI, you can use the <code>--dns</code> flag, or the <code>dns:</code> entry of a Docker Compose service.
This flag accepts an IP address to use for resolving domain names.
To use this flag, your LocalStack container will need to have a known IP address.</p><p>For example, when using Docker Compose, you can specify the IP address that the LocalStack container will be assigned by using a user-defined network and using the <code>ipam</code> configuration settings.
An example configuration would look similar to:</p><pre><code class=language-yaml>services:
  localstack:
    image: localstack/localstack
    networks:
      ls:
        # Set the container IP address in the 10.0.2.0/24 subnet
        ipv4_address: 10.0.2.20

  # Example application container that connects to LocalStack
  application:
    image: amazon/aws-cli
    depends_on:
      - localstack
    command: [&quot;s3api&quot;, &quot;list-buckets&quot;]
    environment:
      - AWS_ACCESS_KEY_ID=test
      - AWS_SECRET_ACCESS_KEY=test
      - AWS_ENDPOINT_URL=http://localhost.localstack.cloud:4566
    dns:
      # Set the DNS server to be the LocalStack container
      - 10.0.2.20
    networks:
      - ls

networks:
  ls:
    ipam:
      config:
        # Specify the subnet range for IP address allocation
        - subnet: 10.0.2.0/24
</code></pre><p>We have created a demo application to demonstrate this functionality: <a href=https://github.com/localstack-samples/networking-demo-application>https://github.com/localstack-samples/networking-demo-application</a>.
This sample uses <code>*.localhost.localstack.cloud</code> throughout to seamlessly configure AWS SDK clients to communicate with LocalStack.</p><ul><li>The deployment process runs in a separate Docker container.</li><li>The application container connects across the Docker network to LocalStack.</li><li>A Lambda function communicates with LocalStack to subscribe to SQS messages, access objects in S3, and write to a DynamoDB table.</li></ul><h1 id=supporting-additional-customization>Supporting additional customization</h1><p>Our aim with the networking improvements was to make the default configuration by default.
Despite this, it might be the case that additional customization is required.
For example, some users cannot configure their application Docker containers, or they wish to change the port LocalStack binds to.
For those users who require additional customization, we provide two approaches:</p><ul><li>&ldquo;functional&rdquo; configuration, and</li><li>&ldquo;cosmetic&rdquo; configuration.</li></ul><h2 id=functional-configuration>Functional configuration</h2><p>This type of configuration changes the behaviour of LocalStack.
Of most relevance to this article, we previously used the configuration variables:</p><ul><li><code>EDGE_PORT</code> (default: <code>4566</code>)</li><li><code>EDGE_PORT_HTTP</code> (default: <code>0</code>)</li><li><code>EDGE_BIND_HOST</code> (default: <code>0.0.0.0</code> if inside the docker container, <code>127.0.0.1</code> outside)</li></ul><p>to define what host and port the LocalStack server is bound to.</p><p>These variables only allowed customization of a single bind host and one or two ports.
We stopped using different ports for HTTP and HTTPS in 2019, so the names were not accurate.
It was also a lot of similar-sounding configuration to configure these two bind addresses.</p><p>With LocalStack 2.0, we introduced <code>GATEWAY_LISTEN</code> as an alternative, which allowed multiple listen addresses to be specified in a single configuration variable.
This meant more flexibility for our users and a simpler configuration.
Multiple bind addresses could be configured with a single variable.
With this change, we reduced the number of required configuration variables to one.</p><p>For example, the following configuration:</p><pre><code>EDGE_PORT_HTTP=5000 EDGE_PORT=9000 EDGE_BIND_HOST=0.0.0.0 localstack start
</code></pre><p>can now be set with:</p><pre><code>GATEWAY_LISTEN=0.0.0.0:5000,0.0.0.0:9000 localstack start
</code></pre><h2 id=cosmetic-configuration>Cosmetic configuration</h2><p>This type of configuration changes the domain names and ports returned by services that return URLs.
For example: before the start of this initiative, creating an SQS queue returned a queue URL:</p><pre><code class=language-bash>$ awslocal sqs create-queue --queue-name myqueue
{
    &quot;QueueUrl&quot;: &quot;http://localhost.localstack.cloud:4566/000000000000/myqueue&quot;
}
</code></pre><p>but this domain resolved to <code>127.0.0.1</code> only, and as such was not usable from other Docker containers.
From very early on in LocalStack&rsquo;s history, this was accounted for via the &ldquo;cosmetic&rdquo; configuration variables: <code>LOCALSTACK_HOSTNAME</code> and <code>HOSTNAME_EXTERNAL</code>.</p><p>If our DNS-based improvements are not available, or do not solve the connectivity problem, the user can configure cosmetic variables to a name that resolves to the LocalStack container.
Where previously two variables inconsistently performed the same role: we now have a single variable: <code>LOCALSTACK_HOST</code>, which is used internally by all services that return URLs.</p><p>For example, by running LocalStack with:</p><pre><code>LOCALSTACK_HOST=foo.bar:5000
</code></pre><p>a queue URL returned by SQS will be:</p><pre><code class=language-bash>$ awslocal sqs create-queue --queue-name myqueue
{
    &quot;QueueUrl&quot;: &quot;http://foo.bar:5000/000000000000/myqueue&quot;
}
</code></pre><p>Even though port <code>5000</code> is included in the URL in this example, the port specified by <code>LOCALSTACK_HOST</code> and <code>GATEWAY_LISTEN</code> may be different.</p><h1 id=providing-tooling-to-help-debug-your-network-configuration>Providing tooling to help debug your network configuration</h1><p>The final part of this networking initiative was to provide a way for you to debug your networking configuration.
We released a tool: <a href=https://github.com/localstack/localstack-docker-debug>https://github.com/localstack/localstack-docker-debug</a> that provides advice for users who are facing connectivity issues.</p><p>For example, if your application code is running in a separate docker container, but that container cannot make network requests to LocalStack, you can run:</p><pre><code class=language-bash>docker run --rm \
    -v /var/run/docker.sock:/var/run/docker.sock \
    ghcr.io/localstack/localstack-docker-debug:main \
        diagnose \
        --source-container &quot;&lt;application-container-name&gt;&quot; \
        --target-container &quot;localstack-main&quot; \
        --localstack
</code></pre><p>The tool attempts to connect to LocalStack. If it cannot, it temporarily adjusts the networking configuration of the application container until connectivity is reached. Once this occurs, it prints helpful suggestions on what changes are needed to make the connection. If this does not work, the tool can capture your Docker network topology to help us understand your networking layout.</p><h1 id=conclusion>Conclusion</h1><p>We hope that with this new functionality available today, accessing LocalStack should be considerably easier.
By moving the DNS server into LocalStack and configuring spawned AWS compute environments to use it by default, your Lambda functions, ECS containers, and EC2 instances should already be able to access LocalStack at <code>localhost.localstack.cloud</code>.
With a small configuration change, your application containers will also be able to reach LocalStack at <code>localhost.localstack.cloud</code>.</p><p>For more information, check out the following YouTube video, where we demonstrate how to use the new networking features!</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/Nad-vhM4Tsw style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>If further customization is required, we have streamlined and expanded on configuring both LocalStack itself, as well as cosmetic URLs returned by services that may be required for more complex networking setups.</p><p>Finally, if you have difficulties connecting to LocalStack, we provide a debug utility to help diagnose the cause of the problems.</p><p>As always, let us know if any issues using the <a href=https://github.com/localstack/localstack/issues>GitHub issue tracker</a>, or if you are a Pro customer, feel free to <a href=https://docs.localstack.cloud/getting-started/help-and-support>reach out to us directly</a>.
We want to hear your feedback on our networking initiative, so please get in touch via our <a href=https://discuss.localstack.cloud/>discussion forum</a>.</p></article></div></div></div></section><script async type=application/javascript src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js>var config={startOnLoad:!0};mermaid.initialize(config)</script><section class="section bg-gradient-light"><div class=container><div class="row justify-content-center"><div class="d-flex flex-column gap-4 col-lg-12 text-white"><h2 class="h2 text-center">Stay in the loop</h2><p>We'd love to get in touch with you.
Please subscribe with your email to stay tuned for release notes and product updates.
We promise never to send an excessive amount of emails (we hate spam, too).</p><script>hbspt.forms.create({region:"eu1",portalId:"26596507",formId:"1cc99237-4ce0-4d65-abdf-f87ac2724717"})</script></div></div></div></section><footer class="footer pt-6 bg-gradient-dark"><div class="footer-main pb-5"><div class=container><div class="row justify-content-between"><div class="col-12 col-lg-4"><img style=width:243px src=/images/header-logo-new.svg alt="LocalStack Logo"></div><div class="col-12 col-lg-8 mt-4 mt-lg-0"><div class="row gap-4"><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=https://localstack.cloud/contact>Contact</a></li><li><a class=footer-text href=https://localstack.cloud/careers>Careers</a></li><li><a class=footer-text href=https://blog.localstack.cloud>Blog</a></li><li><a class=footer-text href=https://docs.localstack.cloud>Docs</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=https://docs.localstack.cloud/tutorials/>Tutorials</a></li><li><a class=footer-text href=https://docs.localstack.cloud/applications/>Applications</a></li><li><a class=footer-text href=https://docs.localstack.cloud/academy/>LocalStack Academy</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li><a class=footer-text href=https://www.localstack.cloud/legal/tos>Terms and Conditions</a></li><li><a class=footer-text href=https://www.localstack.cloud/legal/privacy-policy>Privacy Policy</a></li><li><a class=footer-text href=https://assets-global.website-files.com/6539036f80ddc9e9a467134e/657b15a7f5ba23e41984d5dd_LocalStack%20DPA.pdf>Data Processing Addendum</a></li></ul></div><div class=col><ul class="list-unstyled gap-4 d-flex flex-column"><li class=footer-text>Follow us</li><li class="d-flex gap-3"><a class=footer-text href=https://twitter.com/localstack><span><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="#fff"/></svg></span></a><a class=footer-text href=https://www.linkedin.com/company/localstack-cloud><span><svg width="26" height="26" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 26c7.1797.0 13-5.8203 13-13S20.1797.0 13 0 0 5.8203.0 13 5.8203 26 13 26zM9.35126 10.5024C9.97963 10.5024 10.489 9.993 10.489 9.36463S9.97963 8.22687 9.35126 8.22687 8.2135 8.73626 8.2135 9.36463s.50939 1.13777 1.13776 1.13777zm2.21194.8622v6.3122h1.9599V14.5553C13.5231 13.7316 13.6781 12.9339 14.6993 12.9339c1.0073.0 1.0198.941700000000001 1.0198 1.6734v3.0701H17.68V14.2157C17.68 12.5153 17.3139 11.2086 15.3265 11.2086c-.9542.0-1.5938.5236-1.8554 1.0192H13.4446V11.3646H11.5632zm-3.19382.0H10.3324v6.3122H8.36938V11.3646z" fill="#fff"/></svg></span></a></li></ul></div></div></div></div></div></div><div class=footer-bottom><div class="container mb-2"><hr><div class="row pt-4"><div class=col style=color:#fff;opacity:.5>Copyright &copy; LocalStack</div><div class="col text-end"><ul class=list-inline></ul></div></div></div></div></footer><script src=/js/bootstrap.min.51b4083a09e54138d5bbe9c42a5f5f71af6e60a417f276d5620cbde3b15eb1a07c9ea17a889bc58074adf9b19641039a77521d3131f039300d2fe29ffa532aa8.js integrity="sha512-UbQIOgnlQTjVu+nEKl9fca9uYKQX8nbVYgy947FesaB8nqF6iJvFgHSt+bGWQQOad1IdMTHwOTANL+Kf+lMqqA==" crossorigin=anonymous defer></script><script src=/js/highlight.min.8cdbefd08ec63ef25f4b2510ae50c13b3d9ed43e25a15ddb55f14c33130e68cf8be3131ccf2d087c49f5f21fe88c2f0e2715a21f936047d0d0b85dc48cb864b9.js integrity="sha512-jNvv0I7GPvJfSyUQrlDBOz2e1D4loV3bVfFMMxMOaM+L4xMczy0IfEn18h/ojC8OJxWiH5NgR9DQuF3EjLhkuQ==" crossorigin=anonymous defer></script><script src=/main.min.8933efb6bcdc37606a11f732d52c6f65d7fc1d082b89d56516f6a1bfb528ee7c40c3430bb80214cdd129ec7d69d4cadd74e693da54a9ba6f08c44771204d4468.js integrity="sha512-iTPvtrzcN2BqEfcy1SxvZdf8HQgridVlFvahv7Uo7nxAw0MLuAIUzdEp7H1p1MrddOaT2lSpum8IxEdxIE1EaA==" crossorigin=anonymous defer></script><script src=/index.min.28297aad85d5f5902201eb4ef84e7012a37d4a34824e2256df80cd91e547bf155df22029e5596951d6f2692dd1fee54c76721b407e5ac526bd33bedc636a87e5.js integrity="sha512-KCl6rYXV9ZAiAetO+E5wEqN9SjSCTiJW34DNkeVHvxVd8iAp5VlpUdbyaS3R/uVMdnIbQH5axSa9M77cY2qH5Q==" crossorigin=anonymous defer></script></body></html>